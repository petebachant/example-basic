schema: '2.0'
stages:
  collect-data:
    cmd: calkit xenv -n py --no-check -- python scripts/collect-data.py
    deps:
    - path: .calkit/env-locks/py.yml
      hash: md5
      md5: e3d91ff577fd05c4d927d6c889cca264
      size: 4553
    - path: scripts/collect-data.py
      hash: md5
      md5: eeab1328ac4a9df2ef2452d32c1e6cce
      size: 424
    outs:
    - path: data/raw/data.csv
      hash: md5
      md5: 87767dd77cd6da58b0909a8f402b8d62
      size: 43683
  plot-voltage:
    cmd: calkit xenv -n py --no-check -- python scripts/plot-voltage.py
    deps:
    - path: .calkit/env-locks/py.yml
      hash: md5
      md5: e3d91ff577fd05c4d927d6c889cca264
      size: 4553
    - path: data/raw/data.csv
      hash: md5
      md5: 87767dd77cd6da58b0909a8f402b8d62
      size: 43683
    - path: scripts/plot-voltage.py
      hash: md5
      md5: 087a567a0c0f6199a908399013d564a1
      size: 297
    outs:
    - path: figures/voltage-time-series.png
      hash: md5
      md5: b7378cadeabb02f564c934e1d2749481
      size: 43464
  copy-figures-to-paper-dir:
    cmd: cp -r figures paper/figures
    deps:
    - path: figures
      hash: md5
      md5: d6fd2418e3b774996ddd0f26715c36ac.dir
      size: 45148
      nfiles: 2
    outs:
    - path: paper/figures
      hash: md5
      md5: d6fd2418e3b774996ddd0f26715c36ac.dir
      size: 45148
      nfiles: 2
  build-paper:
    cmd: calkit xenv -n tex --no-check -- latexmk -cd -interaction=nonstopmode 
      -pdf paper/paper.tex
    deps:
    - path: .calkit/env-locks/tex.json
      hash: md5
      md5: d9062570504c158a91ee94916efba78a
      size: 3729
    - path: figures
      hash: md5
      md5: a77f21985bd647a010596d719977d503.dir
      size: 43489
      nfiles: 2
    - path: paper/paper.tex
      hash: md5
      md5: 1480301e18c57bf533d604e1a3593101
      size: 653
    outs:
    - path: paper/paper.pdf
      hash: md5
      md5: 00eff68bd3ab398006da8128741597e3
      size: 91362
  _check_env_py:
    cmd: calkit check conda-env --file environment.yml --output 
      .calkit/env-locks/py.yml
    deps:
    - path: environment.yml
      hash: md5
      md5: 4282ecbec6810eb293bdf62d7f956ffd
      size: 119
    outs:
    - path: .calkit/env-locks/py.yml
      hash: md5
      md5: 8119fb42c7e8531010248790fff169cf
      size: 2200
  _check_env_tex:
    cmd: calkit check docker-env texlive/texlive:latest-full -o 
      .calkit/env-locks/tex.json
    outs:
    - path: .calkit/env-locks/tex.json
      hash: md5
      md5: b04cd12c7a8313853c8739a55f6320fe
      size: 2791
  _check-env-py:
    cmd: calkit check conda-env --file environment.yml --output 
      .calkit/env-locks/py.yml
    deps:
    - path: environment.yml
      hash: md5
      md5: 4282ecbec6810eb293bdf62d7f956ffd
      size: 119
    outs:
    - path: .calkit/env-locks/py.yml
      hash: md5
      md5: e3d91ff577fd05c4d927d6c889cca264
      size: 4553
  _check-env-tex:
    cmd: calkit check docker-env texlive/texlive:latest-full -o 
      .calkit/env-locks/tex.json
    outs:
    - path: .calkit/env-locks/tex.json
      hash: md5
      md5: d9062570504c158a91ee94916efba78a
      size: 3729
